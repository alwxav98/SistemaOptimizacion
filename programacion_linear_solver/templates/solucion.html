<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Solución</title>
    <link rel="stylesheet" href="{{ url_for('programacion_linear_solver.static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Solución Óptima</h1>

        <div class="resultado">
            <p class="titulo-solucion">
                La solución óptima es 
                {% if es_dualidad %}
                    W = {{ solucion['W'] }}
                {% else %}
                    Z = {{ solucion['Z'] }}
                {% endif %}
            </p>
            
            <div class="datos-solucion">
                {% for key, value in solucion.items() if key != 'Z' and key != 'W' %}
                    <p><strong>
                        {% if es_dualidad and 'X' in key %}
                            {{ key.replace('X', 'Y') }}
                        {% else %}
                            {{ key }}
                        {% endif %}
                    </strong> = {{ value }}</p>
                {% endfor %}

                {% for key, value in variables_holgura_exceso.items() %}
                    <p><strong>{{ key }}</strong> = {{ value }}</p>
                {% endfor %}
            </div>
        </div>

        <!-- Botón para regresar al Menú Principal -->
        <div class="menu-button">
            <a href="/" class="back-button">Regresar al Menú Principal</a>
        </div>

        <!-- Botón para enviar los resultados al chatbot de análisis de sensibilidad -->
        <form action="{{ url_for('chatbot.chat') }}" method="POST">
            <input type="hidden" name="solucion" value='{{ solucion | tojson }}'>
            <input type="hidden" name="variables_holgura_exceso" value='{{ variables_holgura_exceso | tojson }}'>
            <button type="submit" class="btn btn-primary w-100">
                <i class="fas fa-chart-line"></i> Analizar Sensibilidad
            </button>
        </form>
        
    </div>
</body>
</html>
